<div class="-create">
  <div [formGroup]="form" class="-form">
    <div class="form-field">
      <label>
        {{ 'exchange.you-send' | translate }}
        <span *ngIf="form.hasError('min')" class="-error">
          {{ 'exchange.min-amount' | translate }} {{ form.getError('min') }}
        </span>
        <span *ngIf="form.hasError('max')" class="-error">
          {{ 'exchange.max-amount' | translate }} {{ form.getError('max') }}
        </span>
      </label>
      <div class="-inputs">
        <input type="text" formControlName="fromAmount">
        <div class="-select">
          <select formControlName="from">
            <option *ngFor="let coin of availableFrom" [value]="coin">{{ coin }}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="form-field">
      <label>{{ 'exchange.you-get' | translate }}</label>
      <div class="-inputs">
        <input type="text" formControlName="toAmount">
        <div class="-select">
          <select formControlName="to">
            <option *ngFor="let coin of availableTo" [value]="coin">{{ coin }}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="form-field">
      <label>
        <span>{{ 'exchange.to-address' | translate:{coin: coinName} }}</span>
        <span
          class="-select-address"
          (click)="selectAddress()"
          *ngIf="activeTradingPair?.to === 'SKY'"
        >
          {{ 'exchange.select' | translate }} <mat-icon>keyboard_arrow_down</mat-icon>
        </span>
      </label>
      <input type="text" formControlName="toAddress">
    </div>

    <div class="-buttons">
      <mat-checkbox class="-check" (change)="setAgreement($event)" type="checkbox">
        {{ 'exchange.agree-1' | translate }}
        <a href="https://swaplab.cc/terms" target="_blank" rel="noreferrer nofollow">
          {{ 'exchange.agree-2' | translate }}
        </a>
        {{ 'exchange.agree-3' | translate }}
        <a href="https://swaplab.cc/privacy" target="_blank" rel="noreferrer nofollow">
          {{ 'exchange.agree-4' | translate }}
        </a>
      </mat-checkbox>

      <app-button class="primary" #exchangeButton (action)="exchange()" [disabled]="!form.valid">
        {{ 'exchange.exchange-button' | translate }}
      </app-button>
    </div>
  </div>

  <div class="-info" *ngIf="activeTradingPair">
    <div class="-item">
      <div class="-key">{{ 'exchange.you-send' | translate }}</div>
      <div class="-value">{{ sendAmount }} {{ form.get('from').value }}</div>
    </div>

    <div class="-item">
      <div class="-key">{{ 'exchange.you-get' | translate }}</div>
      <div class="-value">&asymp; {{ convertedAmount }} {{ form.get('to').value }}</div>
    </div>

    <div class="-item">
      <div class="-key">{{ 'exchange.to-address' | translate:{coin: activeTradingPair.to} }}</div>
      <div class="-value">{{ form.get('toAddress').value || '-' }}</div>
    </div>

    <div class="-item">
      <div class="-key">{{ 'exchange.price' | translate }}</div>
      <div class="-value">1 {{ form.get('from').value }} &asymp; {{ activeTradingPair.price.toFixed(6) }} {{ form.get('to').value }}</div>
    </div>

    <div class="-item">
      <div class="-key">{{ 'exchange.time-15' | translate }}</div>
      <div class="-value">&asymp; 15 minutes</div>
    </div>
  </div>
</div>
